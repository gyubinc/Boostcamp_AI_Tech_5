# 3) Data-Centric의 핵심 - Data Management
---

## DMOps

### 데이터의 종류

\* 말뭉치 류

실제 텍스트 기반의 데이터

* 대화문, 기사, SNS 텍스트, 댓글, 주석 말뭉치...


\* 사전/데이터베이스 류

텍스트 분석시 참조로 사용되는 자원

* 온톨로지, 워드넷, 시소러스, 지식그래프...

### 데이터 관련 용어 정리

**텍스트 text**

주석, 번역, 서문 및 부록 따위에 대한 본문이나 워문

문장보다 더 큰 문법 단위. 문장이 모여서 이루어진 한 덩어리의 글

**말뭉치 corpus**

어떤 기준으로든 한 덩어리로 볼 수 있는 말의 뭉치

**데이터 data**

컹퓨터가 처리할 수 있는 문자, 숫자, 소리, 그림 따위의 형태로 된 정보

**언어학의 연구 분야**

음성학, 음운론, 형태론, 통사론, 의미론, 화용론, 텍스트언어학, 말뭉치언어학...

## Why DMOps?

산업에서 서비스 요구사항을 충족시키기 위해 데이터셋을 직접 생성해야 하는 경우가 많지만, NLP 데이터 제작에 대한 연구가 부족한 상황

* 데이터를 생산하는데 베이스라인 역할로, 일관성 있고 신뢰할 수 있는 고품질의 데이터를 생산할 수 있게 함

### 1. Establish the Project Goal

데이터 제작의 목적과 사업적 요구사항 분석이 이루어지는 단계

좋은 데이터셋을 만들기 위해선 사용자의 요구사항을 고려한 목표 설정이 필요함

### 2. Secure Raw Data

원시 데이터 조사 및 수집

* 고객사에서 데이터 제공

* 자체적으로 크라우드 소싱(인하우스 작업자) 이용

* 크롤링

* 사내 내부 이벤트

* 공공 데이터 활용

* 더 나아가 기업의 경우 법무적 검토를 반드시 거쳐야 함

* 원시 데이터에 대한 제한된 액세스 권한을 제공해야 함

고려사항

* 데이터 다양성, 신뢰성, 획득가능성, 법 제도 준수

저작권

* 원시 데이터에 적용된 라이선스에 따라 2차 저작물에 적용할 수 있는 라이선스가 제한됨

* CC 라이선스

### 3. Data Pre-processing

원시 데이터를 전처리를 통해 가공하여 품질을 높여야 함

* 데이터에 내재된 특성을 바탕으로 품질 향상(Deduplication, 특수문자 제거)

* 비윤리적, 사생활 침해, 노이즈 데이터 필터링

* 크롤링 개인 식별 정보(Pll): 개인 식별 정보 탐지

전처리 과정이 제대로 이루어지지 않으면 데이터를 사용하지 못할 수도 있으므로 매우 중요한 작업

**데이터 전처리 시 유의사항**

정제 기준

* 구축 목적에 알맞은 데이터를 선별하기위한 명확한 기준을 수립하고, 기준 미달의 데이터를 효과적으로 제거해야 함

비식별화

* 개인 정보를 적절하게 비식별화하고, 비식별화로 정보의 손실이 생기지 않도록 주의함

중복성 방지

* 유사한 데이터 및 특성이 없는 데이터 제거해야 함

### 4. Design a Data Schema

데이터셋이 필요로 하는 정보를 모두 담을 수 있도록 주석 작업을 설계하는 단계

데이터를 직접 보면서 AI 모델로 해결하고자 하는 문제를 풀기 위해 필요한 정보를 담을 수 있는 주석 체계를 만듦.

또한 효율성과 정확성을 향상시키기 위해 자동화 할 수 있는 부분(pseudo-labeling)과 인간의 입력이 필요한 부분(annotation)을 분리함

* 해당 과정은 추후 파일럿 작업을 통해 부족한 부분의 내용을 빠르게 보강하는 것이 중요함

### 5. Prepare a Guideline

설계한 데이터 주석 체계를 작업자들 혹은 크라우드소서들에게 전달하기 위한 문서화 작업 단계

모든 edge case가 아닌 명확한 목적과 작업방식을 담아 문서의 난이도를 잘 조율해야 함

가이드라인 작성 시 유의사항

Overview -> 용어 정의 -> 어노테이션 체계 -> 유의사항 -> Edge Case로 목차 구성

* 반드시 예시 첨부

* 가독성 고려

* 구축과 검수과정을 통해 지속적으로 개정하고, 버전 관리 필요

### 6. Recruit Annotators

좋은 데이터셋을 만들기 위해 적합한 작업자 선정

* 윤리적인 부분도 고려해야 함

작업자 특성

* 내부조직 / 아웃소싱 / 크라우드소싱

### 7. Instruct Annotators

작성한 가이드라인을 작업자들과 공유하는 단계

작업자들에게 최대한 질문을 이끌어내고 질문들을 정리하는 양방향적 소통이 핵심

* 작업자들이 궁극적인 목적을 이해하는 것이 중요

### 8. Data Annotation

실제 데이터를 구축하는 단계

작업자의 언어적, 인지적, 시각적 직관을 데이터로 옮기는 과정

잘 설계된 Data Annotationj Tool을 통해 데이터를 라벨링

* Quality control: 일관성 있고 정확한 데이터 생성

* Efficiency: 시간을 단축할 수 있음

* Scalability: 대규모 데이터를 처리할 수 있음

**데이터 구축 및 가공**

파일럿

* 설계 시 발견하지 못한 이슈 발굴 및 해결

* 가이드라인 보완 및 개정

* 작업자 선정

본 구축

* 작업 일정 관리

* 작업자 관리

* 데이터 품질 관리

### 9. Data Inspection(Internal Factor Verification)

데이터 고유 요소인 주석 자체에 대한 검증 단계

Inter-annotator agreement(IAA)를 통한 데이터의 일관성 확인

가이드라인 자체도 데이터에 부합하는지 검증

가이드라인이 잘못되었다면, 이를 수정하고 클렌징

### 10. Data Verification(External Factor Verification)

데이터 외재적 요소를 기반한 검증

* Data Sufficiency

* Data Diversity

* Data Trustworthiness

* Data Privacy and Security

* Data Ethics Suitability

### 11. Data Evaluation via Model Verification

실제 모델링을 통해 데이터 품질을 평가하는 단계

데이터가 제작 목표와 요구사항에 맞게 제작이 되었는지 양적으로 검증하는 단계

데이터의 양을 늘려가며(Data efficiency), 데이터 구간을 분리하여 품질 일관성 검증

### 12. Data Deliverables

데이터에 대한 정보를 모델팀 혹은 유관부서에 전달하는 단계

더 나아가 EDA 과정을 거친 후, 데이터 분석서 및 품질 평가서를 함께 전달하는 것이 좋음

<br/>

## Data Annotation Tool

DMOps의 꽃

### Human Translation VS Machine Translation

Human Translation의 장단점

장점

* 높은 수준의 정확도

* 사회 / 문화적인 차이 및 맥락을 고려한 초월 번역 가능

* 중의적, 모호성이 강한 표현 해석

단점

* 비용 및 시간

* 번영가마다 결과물 차이

* 일관성 미흡

<br/>

Machine Translation의 장단점

장점

* 비용 및 시간

* 다국어 번역

* 일관성

단점

* 품질 보장이 어려움

* 모호한 문장 번역이 어려움

**Data Annotation Tool은 그 둘의 연결고리**

### HAMT(Human Aided Machine Translation)

텀퓨터 시스템이 대부분의 번역을 수행, 번역에 어려움을 겪는 경우 사람에게 도움 요청

종류

* Pre-editing: 번역 모델이 번역하기 전 사람이 원문의 문법 및 맞춤법, 문체 및 재구성, 철자 수정, 의미 보강 등 원본 수정

* Pose-editing: 기계번역 결과에 대한 번역가의 오류 발견 및 수정, 좋은 번역 결과 선택

### CAT(Computer Aided Translation)

사람이 대부분의 작업을 수행, 맞춤법 검사기와 같은 리소스로 보조 컴퓨터 사용

종류

* Translation memory: 여러 언어를 담고 있는 텍스트 데이터베이스

* Terminology database: 번역가들이 용어들을 효율적으로 저장 및 재사용하기 위한 데이터베이스

### Doccano

텍스트 분류, 시퀀스 라벨링, Seq2Seq task를 위한 주석도구 제공하는 오픈 소스

### Brat(Browser-Based Rapid Annotation Tool)

문장 내 개체 간의 관계를 주석 처리하는데 적합함

### TagEditor

spaCy 라이브러리를 사용하여 텍스트에 빠르게 주석을 달 수 있게 함

데스크탑 어플리케이션 형태

### Tagtog

클라우드 기반 텍스트 주석 도구

자동 라벨링, 자신만의 모델 학습

### LightTag

### Label-Studio

### Upstage Data Labeling Space

<br/>

## Data Software Tool

### CleanLab

데이터셋의 문제를 자동으로 감지하는 툴

### Snorkel

학습 데이터 생성 툴

### Refinery

NLp 특화

### Great Expectations

### ydata-profiling

EDA를 도와주는 툴

## 크라우드 소싱

대중 + 외부발주(Crowd + Outsourcing)

데이터 가공 시장 전망

* 규모가 커짐에 따라 중요성 대두됨


